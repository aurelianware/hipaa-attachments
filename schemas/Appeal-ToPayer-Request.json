{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://aurelianware.com/schemas/Appeal-ToPayer-Request.json",
  "title": "Appeal To Payer Request",
  "description": "Request schema for submitting claim appeals from provider to health plan via Availity platform. Compliant with Availity QRE requirements for pre-appeal and post-appeal attachment patterns.",
  "type": "object",
  "required": [
    "claimNumber",
    "providerNpi",
    "memberId",
    "patientFirstName",
    "patientLastName",
    "patientDateOfBirth",
    "requestReason",
    "supportingRationale"
  ],
  "properties": {
    "claimNumber": {
      "type": "string",
      "description": "Primary claim number for the appeal. Must match the original claim identifier in the health plan system.",
      "pattern": "^[A-Z0-9-]{1,50}$",
      "minLength": 1,
      "maxLength": 50,
      "examples": ["CLM-2024-001234", "PAY-45678-90"]
    },
    "additionalClaims": {
      "type": "array",
      "description": "Additional claim numbers related to this appeal (for consolidated appeals). Maximum 25 claims.",
      "maxItems": 25,
      "items": {
        "type": "string",
        "pattern": "^[A-Z0-9-]{1,50}$",
        "minLength": 1,
        "maxLength": 50
      },
      "examples": [["CLM-2024-001235", "CLM-2024-001236"]]
    },
    "providerNpi": {
      "type": "string",
      "description": "National Provider Identifier (NPI) of the rendering or submitting provider",
      "pattern": "^[0-9]{10}$",
      "minLength": 10,
      "maxLength": 10,
      "examples": ["1234567890"]
    },
    "submittingProviderType": {
      "type": "string",
      "description": "Type of provider submitting the appeal",
      "enum": ["RENDERING", "BILLING", "REFERRING", "FACILITY"],
      "examples": ["RENDERING"]
    },
    "providerAddress": {
      "type": "object",
      "description": "Physical address of the provider submitting the appeal",
      "properties": {
        "addressLine1": {
          "type": "string",
          "maxLength": 55,
          "examples": ["123 Medical Plaza Dr"]
        },
        "addressLine2": {
          "type": "string",
          "maxLength": 55,
          "examples": ["Suite 200"]
        },
        "city": {
          "type": "string",
          "maxLength": 30,
          "examples": ["Dallas"]
        },
        "state": {
          "type": "string",
          "pattern": "^[A-Z]{2}$",
          "examples": ["TX"]
        },
        "zipCode": {
          "type": "string",
          "pattern": "^[0-9]{5}(-[0-9]{4})?$",
          "examples": ["75201", "75201-1234"]
        }
      },
      "required": ["addressLine1", "city", "state", "zipCode"]
    },
    "contactInfo": {
      "type": "object",
      "description": "Contact information for follow-up on the appeal",
      "properties": {
        "phone": {
          "type": "string",
          "description": "Contact phone number (10 digits, no formatting)",
          "pattern": "^[0-9]{10}$",
          "examples": ["2145551234"]
        },
        "fax": {
          "type": "string",
          "description": "Fax number (10 digits, no formatting)",
          "pattern": "^[0-9]{10}$",
          "examples": ["2145555678"]
        },
        "email": {
          "type": "string",
          "format": "email",
          "maxLength": 254,
          "examples": ["appeals@providerclinic.com"]
        }
      }
    },
    "memberId": {
      "type": "string",
      "description": "Health plan member identifier for the patient",
      "minLength": 1,
      "maxLength": 50,
      "examples": ["MBR-987654321", "H1234567890"]
    },
    "patientFirstName": {
      "type": "string",
      "description": "Patient's legal first name",
      "minLength": 1,
      "maxLength": 35,
      "examples": ["John"]
    },
    "patientLastName": {
      "type": "string",
      "description": "Patient's legal last name",
      "minLength": 1,
      "maxLength": 60,
      "examples": ["Smith"]
    },
    "patientMiddleName": {
      "type": "string",
      "description": "Patient's middle name or initial",
      "maxLength": 25,
      "examples": ["Q", "Quincy"]
    },
    "patientDateOfBirth": {
      "type": "string",
      "description": "Patient's date of birth in ISO 8601 format (YYYY-MM-DD)",
      "format": "date",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
      "examples": ["1985-03-15"]
    },
    "requestReason": {
      "type": "string",
      "description": "Primary reason code for the appeal",
      "enum": [
        "DENIAL_OF_COVERAGE",
        "PAYMENT_AMOUNT",
        "MEDICAL_NECESSITY",
        "OUT_OF_NETWORK",
        "PRIOR_AUTHORIZATION",
        "TIMELY_FILING",
        "CODING_DISPUTE",
        "DUPLICATE_CLAIM",
        "COORDINATION_OF_BENEFITS",
        "OTHER"
      ],
      "examples": ["MEDICAL_NECESSITY", "PAYMENT_AMOUNT"]
    },
    "supportingRationale": {
      "type": "string",
      "description": "Detailed explanation supporting the appeal request. Should reference clinical guidelines, policy provisions, or regulatory requirements.",
      "minLength": 10,
      "maxLength": 4000,
      "examples": ["Medical records demonstrate that the service was medically necessary per clinical guidelines XYZ. Patient's condition required immediate intervention as documented in attached physician notes."]
    },
    "attachments": {
      "type": "array",
      "description": "Supporting documents for the appeal. Maximum 10 files, each up to 64MB.",
      "maxItems": 10,
      "items": {
        "type": "object",
        "required": ["fileName", "fileType", "fileSizeBytes"],
        "properties": {
          "fileName": {
            "type": "string",
            "description": "Name of the attachment file",
            "minLength": 1,
            "maxLength": 255,
            "examples": ["medical_records_2024-01-15.pdf", "physician_notes.pdf"]
          },
          "fileType": {
            "type": "string",
            "description": "MIME type or file extension of the attachment",
            "enum": [".gif", ".jpg", ".jpeg", ".pdf", ".tif", ".tiff"],
            "examples": [".pdf", ".jpg"]
          },
          "fileSizeBytes": {
            "type": "integer",
            "description": "Size of the file in bytes. Must not exceed 67108864 bytes (64MB).",
            "minimum": 1,
            "maximum": 67108864,
            "examples": [1048576, 5242880]
          },
          "documentType": {
            "type": "string",
            "description": "Type of document being submitted",
            "enum": [
              "MEDICAL_RECORDS",
              "PHYSICIAN_NOTES",
              "LAB_RESULTS",
              "IMAGING_REPORTS",
              "TREATMENT_PLAN",
              "CLINICAL_GUIDELINES",
              "POLICY_DOCUMENTATION",
              "CORRESPONDENCE",
              "OTHER"
            ],
            "examples": ["MEDICAL_RECORDS", "PHYSICIAN_NOTES"]
          },
          "description": {
            "type": "string",
            "description": "Brief description of the attachment content",
            "maxLength": 500,
            "examples": ["Complete medical records from 01/15/2024 office visit"]
          },
          "blobPath": {
            "type": "string",
            "description": "Azure Blob Storage path where the file is stored (for internal use)",
            "examples": ["hipaa-attachments/appeals/APP-2024-001/PROVIDER_UPLOAD/file123.pdf"]
          }
        }
      }
    },
    "ecsAdditionalProperties": {
      "type": "object",
      "description": "Extended properties for Enhanced Claim Submission (ECS) integration and health plan-specific data",
      "properties": {
        "appealType": {
          "type": "string",
          "description": "Type of appeal being submitted",
          "enum": ["FIRST_LEVEL", "SECOND_LEVEL", "EXPEDITED", "EXTERNAL_REVIEW"],
          "examples": ["FIRST_LEVEL"]
        },
        "providerParticipationStatus": {
          "type": "string",
          "description": "Provider's participation status with the health plan",
          "enum": ["IN_NETWORK", "OUT_OF_NETWORK", "UNKNOWN"],
          "examples": ["IN_NETWORK"]
        },
        "programId": {
          "type": "string",
          "description": "Health plan program identifier (use {config.payerId} placeholder)",
          "maxLength": 50,
          "examples": ["{config.payerId}", "PLAN-001"]
        },
        "dataSource": {
          "type": "string",
          "description": "Source system that originated the appeal",
          "enum": ["AVAILITY", "PROVIDER_PORTAL", "EDI", "MANUAL_ENTRY", "OTHER"],
          "examples": ["AVAILITY", "PROVIDER_PORTAL"]
        },
        "planId": {
          "type": "string",
          "description": "Specific health plan identifier (use {config.payerId} placeholder for generic)",
          "maxLength": 50,
          "examples": ["{config.payerId}"]
        },
        "appealAttachmentName": {
          "type": "string",
          "description": "Descriptive name for the appeal attachment submission",
          "maxLength": 255,
          "examples": ["Appeal for Claim CLM-2024-001234"]
        },
        "appealEligibleForMember": {
          "type": "boolean",
          "description": "Indicates whether the member is eligible to submit appeals",
          "examples": [true]
        },
        "appealTimelyFilingDate": {
          "type": "string",
          "description": "Deadline for timely filing of the appeal in ISO 8601 format",
          "format": "date",
          "examples": ["2024-12-31"]
        },
        "appealMessage": {
          "type": "string",
          "description": "Additional message or notes regarding the appeal",
          "maxLength": 1000,
          "examples": ["This appeal is being submitted within the 180-day timely filing requirement."]
        }
      }
    },
    "availityTraceId": {
      "type": "string",
      "description": "Availity transaction trace identifier for correlation (assigned by Availity)",
      "maxLength": 100,
      "examples": ["AVL-2024-abc123-xyz789"]
    },
    "payerTraceId": {
      "type": "string",
      "description": "Health plan internal trace identifier for tracking (assigned by payer system)",
      "maxLength": 100,
      "examples": ["PAY-2024-001234"]
    },
    "submissionDate": {
      "type": "string",
      "description": "Date and time the appeal was submitted, in ISO 8601 format",
      "format": "date-time",
      "examples": ["2024-01-15T14:30:00Z"]
    }
  },
  "examples": [
    {
      "claimNumber": "CLM-2024-001234",
      "providerNpi": "1234567890",
      "submittingProviderType": "RENDERING",
      "providerAddress": {
        "addressLine1": "123 Medical Plaza Dr",
        "addressLine2": "Suite 200",
        "city": "Dallas",
        "state": "TX",
        "zipCode": "75201"
      },
      "contactInfo": {
        "phone": "2145551234",
        "fax": "2145555678",
        "email": "appeals@providerclinic.com"
      },
      "memberId": "MBR-987654321",
      "patientFirstName": "John",
      "patientLastName": "Smith",
      "patientDateOfBirth": "1985-03-15",
      "requestReason": "MEDICAL_NECESSITY",
      "supportingRationale": "Medical records demonstrate that the service was medically necessary per clinical guidelines. Patient's condition required immediate intervention as documented in attached physician notes.",
      "attachments": [
        {
          "fileName": "medical_records_2024-01-15.pdf",
          "fileType": ".pdf",
          "fileSizeBytes": 2097152,
          "documentType": "MEDICAL_RECORDS",
          "description": "Complete medical records from 01/15/2024 office visit"
        },
        {
          "fileName": "physician_notes.pdf",
          "fileType": ".pdf",
          "fileSizeBytes": 524288,
          "documentType": "PHYSICIAN_NOTES",
          "description": "Physician's clinical notes supporting medical necessity"
        }
      ],
      "ecsAdditionalProperties": {
        "appealType": "FIRST_LEVEL",
        "providerParticipationStatus": "IN_NETWORK",
        "programId": "{config.payerId}",
        "dataSource": "AVAILITY",
        "planId": "{config.payerId}",
        "appealAttachmentName": "Appeal for Claim CLM-2024-001234",
        "appealEligibleForMember": true,
        "appealTimelyFilingDate": "2024-12-31",
        "appealMessage": "This appeal is being submitted within the 180-day timely filing requirement."
      },
      "availityTraceId": "AVL-2024-abc123-xyz789",
      "submissionDate": "2024-01-15T14:30:00Z"
    }
  ]
}
