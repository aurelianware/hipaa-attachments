{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://aurelianware.com/schemas/auth-request-cancellation.json",
  "title": "Authorization Cancellation Request (X12 278 X217 - UM02=3)",
  "description": "Schema for cancelling existing authorization requests",
  "type": "object",
  "required": ["authorizationNumber", "patient", "cancellationReason"],
  "properties": {
    "authorizationNumber": {
      "type": "string",
      "description": "Existing authorization number to cancel (REF*D9)"
    },
    "patient": {
      "type": "object",
      "required": ["memberId"],
      "properties": {
        "memberId": {
          "type": "string",
          "pattern": "^[A-Z0-9]{1,80}$",
          "description": "Patient member identifier"
        }
      }
    },
    "cancellationReason": {
      "type": "string",
      "maxLength": 264,
      "description": "Reason for cancellation (REF*4N)",
      "enum": [
        "PATIENT_REQUEST",
        "PROCEDURE_NOT_PERFORMED",
        "DUPLICATE_REQUEST",
        "INCORRECT_INFORMATION",
        "COVERAGE_TERMINATED",
        "PROVIDER_ERROR",
        "OTHER"
      ]
    }
  }
}
